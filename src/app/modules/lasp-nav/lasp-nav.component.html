<div
  fxLayout="row"
  fxLayoutAlign="space-between center"
  fxFlexFill
  fxHide.lt-md
  [style.backgroundColor]="largeHeaderBgColor">
    <img [src]="largeLogoSrc" class="header-logo header-logo--large"/>
    <img [src]="orgLogoSrc" class="header-logo header-logo--lasp"/>
</div>

<mat-toolbar class="nav-toolbar mat-elevation-z3" color="primary">
    <nav class="nav" [class.nav--search-open]="searchOpen">
        <div fxLayout="row" fxLayoutAlign="space-between center">
            <img [src]="smallLogoSrc" class="nav__logo" [fxHide]="!sticky" fxShow.lt-md/>
            <a *ngFor="let navItem of navItems" [routerLink]="navItem.link" class="nav__item" fxHide.lt-md>{{navItem.label}}</a>
            <mat-icon class="nav__search-icon" (click)="openSearch()" fxHide.lt-md>search</mat-icon>
            <button mat-stroked-button class="nav__menu-button" (click)="openNav()" fxHide.gt-sm>
                Menu <mat-icon>menu</mat-icon>
            </button>
        </div>
        <lasp-search [placeholder]="searchPlaceholder" (close)="closeSearch()"></lasp-search>
    </nav>
</mat-toolbar>

<!-- Overlay nav menu for narrow screens, hidden until "Menu" is clicked -->
<div class="nav-overlay expand-down lasp-dark-theme" [class.nav-open]="navOpen" [class.immediate-close]="closeNavImmediately" [style.backgroundColor]="mobileNavBgColor">

    <mat-toolbar color="transparent" fxLayoutAlign="space-between center">
        <img [src]="smallLogoSrc" class="logo-mini" />
        <button mat-button class="nav-overlay__close-nav" (click)="closeNav()">
            <mat-icon>close</mat-icon>
        </button>
    </mat-toolbar>

    <mat-card>
        <lasp-search [placeholder]="searchPlaceholder" (close)="closeSearch()" (searchSent)="closeNav(true)"></lasp-search>
    </mat-card>

    <mat-nav-list>
        <mat-list-item *ngFor="let navItem of navItems; last as last">
            <a [routerLink]="navItem.link" (click)="closeNav(true)" class="overlay-nav-item">{{navItem.label}}</a>
        </mat-list-item>
    </mat-nav-list>
</div>
